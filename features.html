<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Blind Mode Navigation</title>
<style>
  body { font-family: 'Arial', sans-serif; background: linear-gradient(135deg,#0f2027,#203a43,#2c5364); color:#fff; line-height:1.6; margin:0; padding:15px; }
  h1 { color:#00e5ff; text-align:center; font-size:2rem; margin-bottom:20px; text-shadow:2px 2px 6px #000; }

  /* HAMBURGER MENU */
  #hamburger { display:none; position:fixed; top:15px; right:15px; width:30px; height:25px; flex-direction:column; justify-content:space-between; cursor:pointer; z-index:1000; }
  .bar { height:4px; width:100%; background-color:#00e5ff; border-radius:2px; }
  #mobile-menu { display:none; position:fixed; top:60px; right:15px; background:rgba(0,0,0,0.85); padding:15px; border-radius:10px; box-shadow:0 0 15px rgba(0,229,255,0.5); z-index:999; }
  #mobile-menu div { margin:10px 0; cursor:pointer; }
  #mobile-menu div:hover { color:#ffea00; }

  /* CONTROLS PANEL */
  #controls { max-width:900px; margin:0 auto 20px auto; padding:15px; background:rgba(255,255,255,0.05); border-radius:12px; box-shadow:0 0 10px rgba(0,0,0,0.5); color:#fff; text-align:center; }
  #controls h2 { color:#00e5ff; margin-bottom:10px; font-size:1.5rem; text-shadow:1px 1px 5px #000; }
  #controls p { margin:6px 0; font-size:1rem; }
  #controls strong { color:#ffea00; }

  /* NAVIGATION GRID */
  #nav-container { display:grid; grid-template-columns:repeat(4,1fr); grid-auto-rows:minmax(60px,auto); gap:10px; max-width:1000px; margin:0 auto; }
  .nav-item { padding:8px; font-size:0.9rem; border-radius:8px; background:rgba(255,255,255,0.05); text-align:center; cursor:pointer; box-shadow:0 2px 4px rgba(0,0,0,0.3); transition: transform 0.2s, background 0.2s; }
  .nav-item:hover { background:rgba(255,255,255,0.1); transform:translateY(-1px); }
  .highlight { outline:2px solid #00e5ff; background:rgba(0,229,255,0.1); }

  /* SUBTITLE */
  #subtitle { margin-top:20px; font-size:1.2rem; color:#00ff99; min-height:3em; text-align:center; max-width:90%; margin-left:auto;margin-right:auto; line-height:1.5; background:rgba(0,0,0,0.3); padding:12px; border-radius:12px; box-shadow:0 0 15px rgba(0,255,153,0.4); }
  .word { transition: color 0.15s, font-weight 0.15s; }
  .highlight-word { color:#ffea00; font-weight:bold; text-shadow:1px 1px 3px #000; }

  /* RESPONSIVE */
  @media(max-width:900px){ #nav-container{grid-template-columns:repeat(3,1fr);} .nav-item{font-size:0.85rem;padding:6px;} #hamburger{display:flex;} }
  @media(max-width:600px){ #nav-container{grid-template-columns:repeat(2,1fr);} .nav-item{font-size:0.8rem;padding:5px;} h1{font-size:1.7rem;} #controls h2{font-size:1.3rem;} #controls p{font-size:0.95rem;} #subtitle{font-size:1rem;padding:8px;} }
</style>
</head>
<body>

<h1>Blind Mode Navigation</h1>

<!-- HAMBURGER MENU -->
<div id="hamburger">
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
</div>
<div id="mobile-menu">
  <div onclick="window.location.href='home.html'">Home</div>
  <div onclick="window.location.href='about.html'">About</div>
  <div onclick="window.location.href='blog.html'">Blog</div>
</div>

<!-- CONTROLS PANEL -->
<div id="controls">
  <h2>Navigation Controls</h2>
  <p><strong>Arrow Up / Arrow Left:</strong> Previous item</p>
  <p><strong>Arrow Down / Arrow Right:</strong> Next item</p>
  <p><strong>Spacebar:</strong> Press 3 times to ask "continue or leave"</p>
  <p><strong>Mobile:</strong> 2 taps → skip confirmation, 1 tap yes, 2 taps no, 3 taps → stop reading</p>
</div>

<!-- NAVIGATION GRID -->
<div id="nav-container">
  <div class="nav-item" tabindex="0">Motherboard</div>
  <div class="nav-item" tabindex="0">CPU</div>
  <div class="nav-item" tabindex="0">GPU</div>
  <div class="nav-item" tabindex="0">RAM</div>
  <div class="nav-item" tabindex="0">Power Supply</div>
  <div class="nav-item" tabindex="0">Hard Drive</div>
  <div class="nav-item" tabindex="0">SSD</div>
  <div class="nav-item" tabindex="0">Cooling System</div>
  <div class="nav-item" tabindex="0">Network Card</div>
  <div class="nav-item" tabindex="0">Sound Card</div>
  <div class="nav-item" tabindex="0">Optical Drive</div>
  <div class="nav-item" tabindex="0">Motherboard Chipset</div>
</div>

<div id="subtitle"></div>

<script>
let navLinks = Array.from(document.querySelectorAll(".nav-item"));
let currentNavIndex=0, pendingNavIndex=null, confirmationActive=false, spacePressCount=0, askingLeave=false;
let navigationStarted = false; // NEW: navigation only starts after user confirms
const subtitleEl = document.getElementById("subtitle");

const navContent = {
  "Motherboard":["Motherboards evolved from simple backplanes into complex PCBs. Main parts include CPU socket, RAM slots, PCIe slots, chipset, power connectors, SATA and USB ports."],
  "CPU":["The CPU is the brain of computers. Main parts include cores, cache, control unit, and arithmetic logic unit."],
  "GPU":["GPU handles graphics and complex calculations. Enhances visual experiences and accelerates tasks like AI, gaming, and rendering."],
  "RAM":["RAM is volatile memory for active data access. Temporarily stores data for fast CPU access."],
  "Power Supply":["Power Supply converts electricity for components. Ensures stability and efficiency."],
  "Hard Drive":["Hard Drives are magnetic storage devices. Provide large capacity at lower cost."],
  "SSD":["Solid State Drives store data using flash memory. Faster, durable, and silent."],
  "Cooling System":["Cooling systems maintain optimal temperatures. Includes fans, liquid cooling, heat sinks."],
  "Network Card":["Network Cards connect computers to networks. Handle data transmission and protocols."],
  "Sound Card":["Sound Cards process audio signals. Improve sound quality and provide I/O interfaces."],
  "Optical Drive":["Optical Drives read/write CDs, DVDs, Blu-ray. Used for software installation and media."],
  "Motherboard Chipset":["Chipset manages communication between CPU, memory, and peripherals. Determines system features."]
};

// Highlight first item
highlightNav(currentNavIndex,true);

// HAMBURGER MENU
const hamburger = document.getElementById('hamburger');
const mobileMenu = document.getElementById('mobile-menu');
hamburger.addEventListener('click',()=>{ mobileMenu.style.display = mobileMenu.style.display==='flex'?'none':'flex'; mobileMenu.style.flexDirection='column'; });

// ===================== START READING PROMPT =====================
function askStartReading() {
    speakText("Do you want to start reading? Tap four times on mobile or press any arrow key on your keyboard.");

    // Keyboard arrow key
    function onKeyPress(e) {
        if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)) {
            navigationStarted = true;
            speakText("Starting navigation.");
            document.removeEventListener("keydown", onKeyPress);
        }
    }
    document.addEventListener("keydown", onKeyPress);

    // Mobile tap
    let startTapCount = 0;
    function onTouch(e) {
        startTapCount++;
        if(startTapCount === 4) {
            navigationStarted = true;
            speakText("Starting navigation.");
            document.removeEventListener("touchstart", onTouch);
        }
    }
    document.addEventListener("touchstart", onTouch);
}

// Call on page load
askStartReading();

// ===================== NAVIGATION LOGIC =====================

// MOBILE TAP NAVIGATION
let tapCount=0, tapTimeout=null, skipConfirmation=false;
document.addEventListener('touchstart', function(e){
  if(!navigationStarted) return;
  if(e.touches.length>1) return;
  tapCount++;
  if(tapTimeout) clearTimeout(tapTimeout);
  tapTimeout = setTimeout(()=>{
    if(skipConfirmation){
      if(tapCount===1){ speakText("Skipping to next item."); currentNavIndex=(currentNavIndex+1)%navLinks.length; highlightNav(currentNavIndex,true); }
      else if(tapCount===2){ speakText("Skip canceled. Staying on current item."); }
      skipConfirmation=false;
    } else {
      if(tapCount===2){ speakText("Do you really want to skip? Tap once for Yes, twice for No."); skipConfirmation=true; }
      if(tapCount===3){ speakText("Reading stopped. Tap twice to continue."); speechSynthesis.cancel(); }
    }
    tapCount=0;
  },400);
});

function askConfirmation(index){ confirmationActive=true; const el=navLinks[index]; speakText(`Do you want to proceed? ${el.innerText}? Right/Down confirm, Left/Up cancel.`);}
function highlightNav(index,autoContinue=false){ navLinks.forEach(l=>l.classList.remove("highlight")); const el=navLinks[index]; el.classList.add("highlight"); const content=navContent[el.innerText]; if(content) readSegments(content,autoContinue); else speakText(el.innerText);}
function readSegments(segments,autoContinue=false){ const fullText=segments.join(" "); const sentences=fullText.match(/[^\.!\?]+[\.!\?]?/g)||[fullText]; function speakSentence(i){ if(i>=sentences.length){ subtitleEl.innerText=""; if(autoContinue && currentNavIndex<navLinks.length-1){currentNavIndex++; highlightNav(currentNavIndex,true);} return;} const sentence=sentences[i].trim(); const words=sentence.split(" "); subtitleEl.innerHTML=words.map(w=>`<span class="word">${w}</span>`).join(" "); const utter=new SpeechSynthesisUtterance(sentence); utter.rate=1.0; let currentWordIndex=0; utter.onboundary=(event)=>{ if(event.name==='word'||event.charIndex!==undefined){ const spans=subtitleEl.querySelectorAll("span.word"); spans.forEach((s,j)=>s.classList.toggle("highlight-word",j===currentWordIndex)); currentWordIndex++; } }; utter.onend=()=>speakSentence(i+1); speechSynthesis.speak(utter); } speechSynthesis.cancel(); speakSentence(0);}
function speakText(text){ const utter=new SpeechSynthesisUtterance(text); utter.rate=1.0; subtitleEl.innerText=text; utter.onend=()=>subtitleEl.innerText=""; speechSynthesis.cancel(); speechSynthesis.speak(utter);}
</script>

</body>
</html>
